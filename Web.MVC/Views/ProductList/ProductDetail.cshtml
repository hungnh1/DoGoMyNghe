@model EnF.Product
@using EnF;
@using System.Data;
@{
    ViewBag.Title = "NewsDetail";
    Layout = "~/Views/Shared/_LayoutDefault.cshtml";

    DoGoMyNgheEntities db = new DoGoMyNgheEntities();

    var listProduct = (List<Product>)ViewBag.GroupList;
}
<link href="~/Content/css/Cust.css" rel="stylesheet" />
<div class="col-md-12">
    <div class="detail-product">
        <div id="imgPro">
            <img id="mainImg" src="/@Model.Image" class="imgLarge" />

            <div id="iconZoom">
            </div>
        </div>
        <div class="info">
            <div class="name">
                @*@Model.Name*@
            </div>
            <div class="detail">
                <table>
                    <tr>
                        <td class="title">
                            <h2>@Model.Name</h2>
                        </td>
                        <td></td>
                    </tr>

                    <tr>
                        <td class="title">
                            Giá Sản phẩm:@Model.Price
                        </td>
                        <td></td>
                    </tr>


                </table>
            </div>
            <div>
                <!-- Go to www.addthis.com/dashboard to customize your tools -->
                <div class="addthis_native_toolbox">
                </div>
                <!-- Go to www.addthis.com/dashboard to customize your tools -->
                @*<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5348c97229f88208"
                    async></script>*@
            </div>
        </div>
    </div>

    <div class="col-md-10 boxListImg">
        <img src="~/images/back.png" class="back" />
        <div id="boxdynamic" style="left:0">
            @{List<ProductImage> listImg = (List<ProductImage>)ViewBag.listImg;
                foreach (ProductImage proImg in listImg)
                {
                    <div>
                        <img src="/@proImg.Image" class="" />
                    </div>
                }

            }
 
        </div>
        <img src="~/images/next.jpg" class="next" />
    </div>

    <div class="col-md-12">
        <h1>Chi tiết</h1>
        <div>
            @Html.Raw(Model.Des)
        </div>
    </div>

    @*---------*@
    <div class="showtilte" style="width:100%; float:left">
        <div class="txtshowtitle">
            <h2 style="font-size:17px">
                Sản phẩm cùng loại
            </h2>
        </div>
    </div>

    @{List<Product> prctList = (List<Product>)ViewBag.Grouplist;
            foreach (var p in prctList)
            {
            <div class="divsanpham col-md-4">
                <div class="divimgsanpham">
                    <a href="/ProductList/ProductDetail?productId=@p.ProductId">
                        <img alt="@p.Name" title="@p.Name" src="/@p.Image" />
                    </a>
                </div>
                <div class="divtensanpham">@p.Name</div>

            </div>
        }
    }
</div>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/js/multizoom.js"></script>
@section scripts{
    
    <script type="text/javascript">

        jQuery(document).ready(function ($) {

            $('.imgLarge').addimagezoom({
                speed: 1500,
                descpos: true,
                imagevertcenter: true,
                magvertcenter: true,
                zoomrange: [3, 10],
                magnifiersize: [300, 300],
                magnifierpos: 'right',
                cursorshade: true
            });


        });

       

        $('.back').click(function () {
           

            var lps = $('.boxListImg > div')[0].style.left;
            lps = lps.split('p')[0] * 1;
            if (lps >= 0) {
                return;
            }
            $('.boxListImg > div')[0].style.left = (lps + 250) + "px";

           
        });

        $('.next').click(function () {
            var imgNum = $('.boxListImg > div >div').length;
            var imgMoveNum = imgNum - 4;

            var lps = $('.boxListImg > div')[0].style.left;
            lps = lps.split('p')[0] * 1;
           
            if (Math.abs(lps) >= imgMoveNum * 250) {
                return;
            }

            $('.boxListImg > div')[0].style.left = (lps - 250) + "px";
        })


        $('.boxListImg > div > div > img').click(function () {
            
            $('#mainImg')[0].setAttribute("src", this.src);
            //$('.imgLarge').addimagezoom().largeimage = "myimagescr";
            $('.magnifyarea > div > img')[0].setAttribute("src", this.src);
            
        })
    </script>



}

<style type="text/css">
    .imgLarge {
        max-height: 290px;
    }

    .boxListImg {
        position: relative;
        height: 200px;
        padding-top: 10px;
        overflow: hidden;
         /*-webkit-transition: width 2s;
            transition: width 2s;*/
    }

        .boxListImg > div {
            position: absolute;
            width: max-content;
            left:0;
            -webkit-transition: width 2s;
            transition: left 1s;
        }

    .next {
        position: absolute;
        right: 0;
    }

    .back {
        position: absolute;
        left: 0;
        left: 14px;
        z-index: 99;
    }

    .next, .back {
        height: 40%;
        top: 30%;
        width: 50px;
        cursor: pointer;
    }

    .boxListImg > div > div {
        width: 250px;
        float: left;
    }

    .boxListImg > div img {
        width: 98%;
        cursor: pointer;
    }
</style>
